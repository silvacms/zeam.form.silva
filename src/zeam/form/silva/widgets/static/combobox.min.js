(function(e,t){var n=function(){var n=e(this),r=n.children("select"),i=n.children("input.combobox-input"),s=n.children("a.combobox-opener"),o=r.children(":selected"),u=o.text();i.val(u).autocomplete({delay:0,minLength:0,source:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(t.term),"i");n(r.children("option").map(function(){var n=e(this),r=n.text();if(!t.term||i.test(r))return{label:r.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(t.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),icon:n.data("combobox-icon"),value:r,option:this}}))},select:function(e,t){t.item.option.selected=!0,u=t.item.value},change:function(t,n){if(!n.item){var s=!1,o=new RegExp("^"+e.ui.autocomplete.escapeRegex(e(this).val())+"$","i");r.children("option").each(function(){var t=e(this);if(t.text().match(o))return this.selected=s=!0,!1});if(!s)return e(this).val(u),r.val(u),i.data("autocomplete").term=u,!1}}}),i.data("autocomplete")._resizeMenu=function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+40,this.element.outerWidth()))},i.data("autocomplete")._renderItem=function(n,r){var i=e("<li><a>"+r.label+"</a></li>");if(r.icon){var s=e('<ins class="icon" />');t.ui.icon(s,r.icon),i.prepend(s)}return i.data("item.autocomplete",r).appendTo(n)},i.autocomplete("widget").zIndex(i.zIndex()+1),s.click(function(){if(i.autocomplete("widget").is(":visible")){i.autocomplete("close");return}s.blur(),i.autocomplete("search",""),i.focus()})};e(".form-fields-container").live("loadwidget-smiform",function(t){e(this).find(".field-combobox").each(n),t.stopPropagation()})})(jQuery,infrae);