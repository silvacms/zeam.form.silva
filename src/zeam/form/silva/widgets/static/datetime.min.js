(function($){var create_datetime_field=function(){var $field=$(this);if("readonly"!=$field.attr("readonly")){var id=$field.attr("id"),$year=$("#"+id+"-year"),$month=$("#"+id+"-month"),$day=$("#"+id+"-day"),$hour=$("#"+id+"-hour"),$minute=$("#"+id+"-min"),$remove=$("#"+id+"-remove"),hasTime=$hour.length>0,lang=$(document).find("html").attr("lang"),field_settings={showOn:"button",buttonImage:"/++static++/zeam.form.silva.widgets/calendar.png",buttonImageOnly:!0,buttonText:"Date picker",showWeek:!0,showOtherMonths:!0,dateFormat:"yy/mm/dd",onSelect:function(date){var parts=date.split("/");$day.val(parts[2]),$month.val(parts[1]),$year.val(parts[0]),hasTime&&($hour.val()||$hour.val("00"),$minute.val()||$minute.val("00")),$field.trigger("change")},beforeShow:function(){var selected_day=$day.val(),selected_month=$month.val(),selected_year=$year.val(),date=null;date=selected_day&&selected_month&&selected_year?new Date(selected_year,selected_month-1,selected_day):new Date,$field.datepicker("setDate",date)}};$remove.length&&$remove.bind("click",function(){return $day.val(""),$month.val(""),$year.val(""),hasTime&&($hour.val(""),$minute.val("")),$field.datepicker("setDate",new Date),!1});var lang_settings=$.datepicker.regional[lang];lang_settings||(lang_settings=$.datepicker.regional[""]),$field.datepicker($.extend({},lang_settings,field_settings))}};void 0!==window.smi?$(document).on("loadwidget-smiform",".form-fields-container",function(event){$(this).find(".field-datetime, .field-date").each(create_datetime_field),event.stopPropagation()}):$(document).ready(function(){$(this).find(".field-datetime, .field-date").each(create_datetime_field)})})(jQuery);